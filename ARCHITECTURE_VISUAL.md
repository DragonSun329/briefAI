# AI Briefing Agent - Visual Architecture

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        USER INTERFACE                            â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Interactive  â”‚  â”‚   CLI Args   â”‚  â”‚   Automated Cron     â”‚  â”‚
â”‚  â”‚    Mode      â”‚  â”‚   --input    â”‚  â”‚   (Weekly Run)       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     MAIN ORCHESTRATOR                            â”‚
â”‚                        (main.py)                                 â”‚
â”‚                                                                   â”‚
â”‚  Workflow: Select â†’ Scrape â†’ Evaluate â†’ Paraphrase â†’ Format    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚        â”‚        â”‚        â”‚        â”‚
        â–¼        â–¼        â–¼        â–¼        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CORE MODULES                                â”‚
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Category   â”‚  â”‚    Web     â”‚  â”‚    News    â”‚  â”‚  Article   â”‚â”‚
â”‚  â”‚ Selector   â”‚  â”‚  Scraper   â”‚  â”‚ Evaluator  â”‚  â”‚ Paraphraserâ”‚â”‚
â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚â”‚
â”‚  â”‚ â€¢ Parse    â”‚  â”‚ â€¢ RSS      â”‚  â”‚ â€¢ Impact   â”‚  â”‚ â€¢ Summarizeâ”‚â”‚
â”‚  â”‚   input    â”‚  â”‚ â€¢ HTML     â”‚  â”‚ â€¢ Relevanceâ”‚  â”‚ â€¢ Mandarin â”‚â”‚
â”‚  â”‚ â€¢ Map to   â”‚  â”‚ â€¢ Multi-   â”‚  â”‚ â€¢ Recency  â”‚  â”‚ â€¢ Paragraphâ”‚â”‚
â”‚  â”‚   categoriesâ”‚ â”‚   source   â”‚  â”‚ â€¢ Credibilityâ”‚ â”‚ â€¢ 150-250 â”‚â”‚
â”‚  â”‚            â”‚  â”‚ â€¢ Cache    â”‚  â”‚ â€¢ Rank     â”‚  â”‚   chars    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚        â”‚               â”‚               â”‚               â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚               â”‚               â”‚               â”‚
         â”‚               â”‚               â”‚               â–¼
         â”‚               â”‚               â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚               â”‚               â”‚        â”‚  Report    â”‚
         â”‚               â”‚               â”‚        â”‚ Formatter  â”‚
         â”‚               â”‚               â”‚        â”‚            â”‚
         â”‚               â”‚               â”‚        â”‚ â€¢ Executiveâ”‚
         â”‚               â”‚               â”‚        â”‚   Summary  â”‚
         â”‚               â”‚               â”‚        â”‚ â€¢ Key      â”‚
         â”‚               â”‚               â”‚        â”‚   Insights â”‚
         â”‚               â”‚               â”‚        â”‚ â€¢ Jinja2   â”‚
         â”‚               â”‚               â”‚        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
         â”‚               â”‚               â”‚              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        â–¼               â–¼               â–¼              â–¼         â”‚
â”‚                     UTILITY LAYER                               â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Claude       â”‚  â”‚   Cache      â”‚  â”‚      Logger          â”‚â”‚
â”‚  â”‚ Client       â”‚  â”‚   Manager    â”‚  â”‚                      â”‚â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚ â€¢ Console + File     â”‚â”‚
â”‚  â”‚ â€¢ API calls  â”‚  â”‚ â€¢ File-based â”‚  â”‚ â€¢ Daily rotation     â”‚â”‚
â”‚  â”‚ â€¢ Retry      â”‚  â”‚ â€¢ TTL        â”‚  â”‚ â€¢ Multiple levels    â”‚â”‚
â”‚  â”‚ â€¢ JSON parse â”‚  â”‚ â€¢ Expiry     â”‚  â”‚                      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                  â”‚
          â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      EXTERNAL SERVICES                           â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Anthropic       â”‚  â”‚     News Sources                   â”‚   â”‚
â”‚  â”‚ Claude API      â”‚  â”‚  â€¢ æœºå™¨ä¹‹å¿ƒ (RSS)                   â”‚   â”‚
â”‚  â”‚ (Sonnet 4.5)    â”‚  â”‚  â€¢ é‡å­ä½ (Web)                     â”‚   â”‚
â”‚  â”‚                 â”‚  â”‚  â€¢ TechCrunch AI (RSS)              â”‚   â”‚
â”‚  â”‚                 â”‚  â”‚  â€¢ MIT Tech Review (RSS)            â”‚   â”‚
â”‚  â”‚                 â”‚  â”‚  â€¢ arXiv (RSS)                      â”‚   â”‚
â”‚  â”‚                 â”‚  â”‚  â€¢ 36æ°ª AI (Web)                    â”‚   â”‚
â”‚  â”‚                 â”‚  â”‚  â€¢ AIBase (Web)                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                              â”‚
          â–¼                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          OUTPUT                                  â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         data/reports/ai_briefing_YYYYMMDD.md             â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  â€¢ æœ¬å‘¨æ¦‚è§ˆ (Executive Summary)                            â”‚  â”‚
â”‚  â”‚  â€¢ é‡ç‚¹èµ„è®¯ (Top Articles by Category)                    â”‚  â”‚
â”‚  â”‚  â€¢ å…³é”®æ´å¯Ÿ (Strategic Insights)                           â”‚  â”‚
â”‚  â”‚  â€¢ å»¶ä¼¸é˜…è¯» (Additional Readings)                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Sequence

```
1. USER INPUT
   â†“
   "æˆ‘æƒ³äº†è§£å¤§æ¨¡å‹å’ŒAIåº”ç”¨"
   â†“
2. CATEGORY SELECTOR (Claude)
   â†“
   [
     {id: "llm", name: "å¤§æ¨¡å‹", priority: 10},
     {id: "ai_apps", name: "AIåº”ç”¨", priority: 9}
   ]
   â†“
3. WEB SCRAPER (RSS + Cache)
   â†“
   [
     {title: "...", url: "...", content: "...", source: "æœºå™¨ä¹‹å¿ƒ"},
     {title: "...", url: "...", content: "...", source: "TechCrunch"},
     ... (50+ articles)
   ]
   â†“
4. NEWS EVALUATOR (Claude)
   â†“
   [
     {
       title: "...",
       evaluation: {
         impact: 9, relevance: 8, recency: 7, credibility: 9,
         avg_score: 8.25,
         key_takeaway: "..."
       }
     },
     ... (top 15 articles)
   ]
   â†“
5. ARTICLE PARAPHRASER (Claude)
   â†“
   [
     {
       title: "...",
       paraphrased_content: "æµç•…çš„ä¸­æ–‡æ®µè½ï¼Œ150-250å­—ç¬¦...",
       fact_check: "passed"
     },
     ... (15 articles)
   ]
   â†“
6. REPORT FORMATTER (Claude + Jinja2)
   â†“
   Markdown Report:
   - Executive Summary (2-3 sentences)
   - Articles grouped by category
   - Key strategic insights (3-5 points)
   - Additional reading links
   â†“
7. OUTPUT FILE
   data/reports/ai_briefing_20241024.md
```

## Module Dependencies

```
main.py
â”œâ”€â”€ modules/category_selector.py
â”‚   â””â”€â”€ utils/claude_client.py
â”‚
â”œâ”€â”€ modules/web_scraper.py
â”‚   â””â”€â”€ utils/cache_manager.py
â”‚
â”œâ”€â”€ modules/news_evaluator.py
â”‚   â””â”€â”€ utils/claude_client.py
â”‚
â”œâ”€â”€ modules/article_paraphraser.py
â”‚   â””â”€â”€ utils/claude_client.py
â”‚
â””â”€â”€ modules/report_formatter.py
    â””â”€â”€ utils/claude_client.py

utils/
â”œâ”€â”€ claude_client.py
â”‚   â””â”€â”€ anthropic (external)
â”œâ”€â”€ cache_manager.py
â”‚   â””â”€â”€ json, hashlib
â””â”€â”€ logger.py
    â””â”€â”€ loguru (external)
```

## Configuration Files

```
config/
â”œâ”€â”€ sources.json          â”€â”€â”€â”€â”€â–º  Web Scraper
â”‚   â”œâ”€â”€ id, name, url
â”‚   â”œâ”€â”€ type (rss/web)
â”‚   â”œâ”€â”€ categories
â”‚   â””â”€â”€ credibility_score
â”‚
â”œâ”€â”€ categories.json       â”€â”€â”€â”€â”€â–º  Category Selector
â”‚   â”œâ”€â”€ id, name
â”‚   â”œâ”€â”€ aliases
â”‚   â”œâ”€â”€ priority
â”‚   â””â”€â”€ description
â”‚
â””â”€â”€ report_template.md    â”€â”€â”€â”€â”€â–º  Report Formatter
    â”œâ”€â”€ Jinja2 syntax
    â”œâ”€â”€ {{executive_summary}}
    â”œâ”€â”€ {{articles_by_category}}
    â””â”€â”€ {{key_insights}}
```

## File Structure Map

```
briefAI/
â”‚
â”œâ”€â”€ ğŸ“„ main.py                    # Main orchestrator (CLI entry point)
â”‚
â”œâ”€â”€ ğŸ“ modules/                   # Core business logic
â”‚   â”œâ”€â”€ category_selector.py
â”‚   â”œâ”€â”€ web_scraper.py
â”‚   â”œâ”€â”€ news_evaluator.py
â”‚   â”œâ”€â”€ article_paraphraser.py
â”‚   â””â”€â”€ report_formatter.py
â”‚
â”œâ”€â”€ ğŸ“ utils/                     # Shared utilities
â”‚   â”œâ”€â”€ claude_client.py
â”‚   â”œâ”€â”€ cache_manager.py
â”‚   â””â”€â”€ logger.py
â”‚
â”œâ”€â”€ ğŸ“ config/                    # Configuration files
â”‚   â”œâ”€â”€ sources.json
â”‚   â”œâ”€â”€ categories.json
â”‚   â””â”€â”€ report_template.md
â”‚
â”œâ”€â”€ ğŸ“ data/
â”‚   â”œâ”€â”€ cache/                    # Cached scraped articles
â”‚   â””â”€â”€ reports/                  # Generated reports (output)
â”‚
â”œâ”€â”€ ğŸ“ logs/                      # Application logs
â”‚
â”œâ”€â”€ ğŸ“„ requirements.txt           # Python dependencies
â”œâ”€â”€ ğŸ“„ .env.example               # Environment variables template
â”œâ”€â”€ ğŸ“„ .gitignore                 # Git ignore rules
â”œâ”€â”€ ğŸ“„ setup.sh                   # Quick setup script
â”‚
â””â”€â”€ ğŸ“ Documentation/
    â”œâ”€â”€ README.md                 # Setup and usage guide
    â”œâ”€â”€ CLAUDE.md                 # Project requirements
    â”œâ”€â”€ ARCHITECTURE.md           # System design
    â”œâ”€â”€ GUIDE.md                  # Implementation guide
    â”œâ”€â”€ PROMPTS.md                # Prompt templates
    â”œâ”€â”€ PROJECT_SUMMARY.md        # Build summary
    â””â”€â”€ ARCHITECTURE_VISUAL.md    # This file
```

## Claude API Usage Pattern

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Claude API Call Pattern                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                    â”‚
â”‚  1. Category Selection        â†’ 1 API call        â”‚
â”‚     Input: User preferences                       â”‚
â”‚     Output: Structured categories                 â”‚
â”‚                                                    â”‚
â”‚  2. Article Evaluation        â†’ N API calls       â”‚
â”‚     Input: Article content                        â”‚
â”‚     Output: Scores + rationale                    â”‚
â”‚     (N = number of articles, typically 50-100)    â”‚
â”‚                                                    â”‚
â”‚  3. Article Paraphrasing      â†’ N API calls       â”‚
â”‚     Input: Full article                           â”‚
â”‚     Output: 150-250 char summary                  â”‚
â”‚     (N = top articles, typically 15)              â”‚
â”‚                                                    â”‚
â”‚  4. Executive Summary         â†’ 1 API call        â”‚
â”‚     Input: All selected articles                  â”‚
â”‚     Output: 2-3 sentence overview                 â”‚
â”‚                                                    â”‚
â”‚  5. Key Insights              â†’ 1 API call        â”‚
â”‚     Input: All selected articles                  â”‚
â”‚     Output: 3-5 strategic takeaways               â”‚
â”‚                                                    â”‚
â”‚  TOTAL: ~80-130 API calls per report              â”‚
â”‚  COST: ~$0.50-$1.00 per report                   â”‚
â”‚                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Performance Optimization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Caching Strategy                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  Level 1: Article Scraping (24h TTL)           â”‚
â”‚  â”œâ”€ Key: source_id + days_back                 â”‚
â”‚  â”œâ”€ Saves: HTTP requests                       â”‚
â”‚  â””â”€ Effectiveness: 80%+ on re-runs             â”‚
â”‚                                                  â”‚
â”‚  Level 2: Article Evaluation (24h TTL)         â”‚
â”‚  â”œâ”€ Key: article_url hash                      â”‚
â”‚  â”œâ”€ Saves: Claude API calls                    â”‚
â”‚  â””â”€ Effectiveness: 60%+ on re-runs             â”‚
â”‚                                                  â”‚
â”‚  Level 3: API Response (in-memory)             â”‚
â”‚  â”œâ”€ Key: Request hash                          â”‚
â”‚  â”œâ”€ Saves: Duplicate API calls in same session â”‚
â”‚  â””â”€ Effectiveness: 20%+ savings                â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Error Handling Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Error Recovery Strategy                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  API Errors:                                   â”‚
â”‚  â””â”€â–º Retry (3 attempts, exponential backoff)  â”‚
â”‚      â””â”€â–º Log error                             â”‚
â”‚          â””â”€â–º Continue with next item           â”‚
â”‚                                                 â”‚
â”‚  Scraping Errors:                              â”‚
â”‚  â””â”€â–º Skip source                               â”‚
â”‚      â””â”€â–º Log warning                           â”‚
â”‚          â””â”€â–º Continue with other sources       â”‚
â”‚                                                 â”‚
â”‚  Evaluation Errors:                            â”‚
â”‚  â””â”€â–º Use default score (5.0)                  â”‚
â”‚      â””â”€â–º Log warning                           â”‚
â”‚          â””â”€â–º Include article with caution flag â”‚
â”‚                                                 â”‚
â”‚  Paraphrasing Errors:                          â”‚
â”‚  â””â”€â–º Use truncated original content           â”‚
â”‚      â””â”€â–º Log error                             â”‚
â”‚          â””â”€â–º Mark as "needs review"           â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Quality Assurance Checks

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Quality Gates                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                           â”‚
â”‚  âœ“ Article Evaluation                    â”‚
â”‚    â€¢ Min score threshold: 6.0            â”‚
â”‚    â€¢ Min credibility: 7.0                â”‚
â”‚                                           â”‚
â”‚  âœ“ Paraphrasing Validation               â”‚
â”‚    â€¢ Length: 150-250 characters          â”‚
â”‚    â€¢ Format: Paragraph (not bullets)     â”‚
â”‚    â€¢ Language: Mandarin Chinese          â”‚
â”‚    â€¢ Fact check: Pass                    â”‚
â”‚                                           â”‚
â”‚  âœ“ Report Completeness                   â”‚
â”‚    â€¢ Min articles: 5                     â”‚
â”‚    â€¢ Max articles: 15                    â”‚
â”‚    â€¢ All sections present                â”‚
â”‚    â€¢ Valid markdown syntax               â”‚
â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**This visual architecture document provides a comprehensive overview of the system design, data flow, and component relationships.**
